<!-- <!DOCTYPE html>
<html lang="en">
<head> -->
<!-- <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js"
  integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
<title>Show uniforms</title>
</head>

<body>
  <%- include('header') -%>

    <form action="/donate" method="POST" class=".needs-validation">

      <div class="wrapper" style="margin-top: 85px;">
        <div id="survey_options">

          <div class="row center p-3">
            <div class="col-sm-9 shadow rounded"
              style="padding-bottom: 30px; padding-top: 30px; background-color: whitesmoke; margin: 10px;">

              <div class="row">

                <div class="col-sm-4">
                  <label for="school" class="form-label ">
                    <h5>School:</h5>
                  </label>
                  <select class="custom-select" id="school" name="schoolID" required>
                    <option selected>Choose...</option>
                    <% data.schools.forEach((school)=> {%>
                      <option value="<%= school.school_id %>">
                        <%= school.school_name %>
                      </option>
                      <% }); %>
                  </select>
                </div>


                <div class="col-sm-3">
                  <label for="type" class="form-label ">
                    <h5>Type:</h5>
                  </label>
                  <select class="custom-select" id="type" name="uniformID" required>
                    <option selected>Choose...</option>
                    <% data.uniforms.forEach((catalog)=> {%>
                      <option value="<%= catalog.id %>">
                        <%= catalog.type %>
                      </option>
                      <% }); %>
                  </select>
                </div>


                <div class="col-sm-2">
                  <label for="size">
                    <h5>Size:</h5>
                  </label>
                  <input type="text" class="form-control capitalize" id="size" placeholder="Size" name="size" required>
                  <div class="valid-feedback">Valid.</div>
                  <div class="invalid-feedback">Please fill out this field.</div>
                  </input>
                </div>

                <div class="col-sm-1">
                  <label for="quantity">
                    <h5>Quantity:</h5>
                  </label>
                  <input type="text" class="form-control" id="quantity" placeholder="Qty" name="quantity" min="1"
                    required>
                  <div class="valid-feedback">Valid.</div>
                  <div class="invalid-feedback">Please fill out this field.</div>
                  </input>
                </div>

              </div>

            </div>
          </div>


        </div>
        <div class="controls center">
          <button type="submit" id="add_more_fields" class="btn btn-primary">Add Row</button>
          <button type="submit" id="remove_fields" class="btn btn-danger">Remove</button>
        </div>


        <script>
          const survey_options = document.getElementById('survey_options');
          const add_more_fields = document.getElementById('add_more_fields');
          const remove_fields = document.getElementById('remove_fields');
          // let count_rows_added = 0;


          const newRowToAdd = `<div class="row center p-3">
            <div class="col-sm-9 shadow rounded" style = "padding-bottom: 30px; padding-top: 30px; background-color: whitesmoke; margin: 10px">
            <div class="row">

              <div class="col-sm-4">
                <label for="school" class="form-label ">
                  <h5>School:</h5>
                </label>
                <select class="custom-select" id="school" name="schoolID" required>
                  <option selected>Choose...</option>
                  <% data.schools.forEach((school)=> {%>
                      <option value="<%= school.school_id %>">
                        <%= school.school_name %>
                      </option>
                      <% }); %>
                </select>
              </div>


              <div class="col-sm-3">
                <label for="type" class="form-label ">
                  <h5>Type:</h5>
                </label>
                <select class="custom-select" id="type" name="uniformID" required>
                  <option selected>Choose...</option>
                  <% data.uniforms.forEach((catalog)=> {%>
                      <option value="<%= catalog.id %>">
                        <%= catalog.type %>
                      </option>
                      <% }); %>
                </select>
              </div>


              <div class="col-sm-2">
                <label for="size">
                  <h5>Size:</h5>
                </label>
                <input type="text" class="form-control capitalize" id="size" placeholder="Size" name="size" required>
                  <div class="valid-feedback">Valid.</div>
                  <div class="invalid-feedback">Please fill out this field.</div>
                </input>
              </div>

              <div class="col-sm-1">
                <label for="quantity">
                  <h5>Quantity:</h5>
                </label>
                <input type="text" class="form-control" id="quantity" placeholder="Qty" name="quantity" min="1"
                  required>
                  <div class="valid-feedback">Valid.</div>
                  <div class="invalid-feedback">Please fill out this field.</div>
                </input>
              </div>

            </div>

            </div >
          </div > `

          add_more_fields.onclick = function () {
            // const newField = document.createElement('input');
            // newField.setAttribute('type', 'text');
            // newField.setAttribute('name', 'survey_options[]');
            // newField.setAttribute('class', 'survey_options');
            // newField.setAttribute('siz', 50);
            // newField.setAttribute('placeholder', 'Another Field');
            // survey_options.appendChild(newField);

            // count_rows_added += 1
            const div = document.createElement('div');
            // div.setAttribute('name', `row_${count_rows_added}`)
            div.innerHTML = newRowToAdd.trim()
            survey_options.append(div)
            // console.log(`counter`, count_rows_added)
          }

          remove_fields.onclick = function () {
            // count_rows_added -= 1
            survey_options.removeChild(survey_options.lastChild);
            // const input_tags = survey_options.getElementsByTagName('input');
            // if (input_tags.length > 2) {
            //   survey_options.removeChild(input_tags[(input_tags.length) - 1]);
            // }
            //  console.log(`counter`, count_rows_added)
          }

        </script>
        <br>

        <!-- <button type="submit" class="btn btn-secondary">Submit</button> -->
      </div>
      <div class="center">
        <button type="submit" class="p-3 btn btn-grad" >Submit All</button>
      </div>



    </form>

</body>

</html>